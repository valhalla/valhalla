{
  "version": 8,
  "name": "Valhalla Edges & Nodes",
  "metadata": {},
  "sources": {
    "valhalla": {
      "type": "vector",
      "tiles": [
        "http://localhost:8002/tile?json=%7B%22tile%22%3A%7B%22z%22%3A{z}%2C%22x%22%3A{x}%2C%22y%22%3A{y}%7D%7D"
      ],
      "minzoom": 7,
      "maxzoom": 22,
      "scheme": "xyz"
    }
  },
  "glyphs": "https://orangemug.github.io/font-glyphs/glyphs/{fontstack}/{range}.pbf",
  "layers": [
    {
      "id": "edges",
      "type": "line",
      "source": "valhalla",
      "source-layer": "edges",
      "minzoom": 7,
      "maxzoom": 22,
      "filter": ["all"],
      "layout": {"visibility": "visible"},
      "paint": {
        "line-color": [
          "match",
          ["get", "tile_level"],
          0,
          "#ff0000",
          1,
          "#ff8800",
          2,
          "#ffdd00",
          "#ff00ff"
        ],
        "line-width": [
          "interpolate",
          ["exponential", 1.5],
          ["zoom"],
          12,
          ["match", ["get", "tile_level"], 0, 3, 1, 2, 2, 1, 2],
          14,
          ["match", ["get", "tile_level"], 0, 4, 1, 3, 2, 2, 3],
          16,
          ["match", ["get", "tile_level"], 0, 6, 1, 4, 2, 3, 4],
          18,
          ["match", ["get", "tile_level"], 0, 8, 1, 6, 2, 4, 6],
          20,
          ["match", ["get", "tile_level"], 0, 10, 1, 8, 2, 6, 8],
          22,
          ["match", ["get", "tile_level"], 0, 12, 1, 10, 2, 8, 10]
        ],
        "line-opacity": 0.8
      }
    },
    {
      "id": "nodes",
      "type": "circle",
      "source": "valhalla",
      "source-layer": "nodes",
      "minzoom": 16,
      "maxzoom": 22,
      "paint": {
        "circle-radius": [
          "interpolate",
          ["linear"],
          ["zoom"],
          16,
          2,
          18,
          4,
          20,
          6
        ],
        "circle-color": [
          "case",
          ["get", "traffic_signal"],
          "#ff0000",
          "#0088ff"
        ],
        "circle-stroke-color": "#ffffff",
        "circle-stroke-width": 1,
        "circle-opacity": 0.8
      }
    }
  ]
}